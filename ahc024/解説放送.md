# AHCラジオ
'''　必要そうな部分だけメモ　'''
1. グリッドの外側に0のマスを作っておくと、境界条件を考える必要がなくなる。
- 条件の実装が難しい
1. 隣接条件　
    - 隣接行列をつくって更新する
2. 連結条件　同じ色は連結している必要がある (ここの実装が難しかった)
    - 深さ優先探索 チェック済みの色をもって、同じ色が出現してたらNG O(N)
    - Union-Find 

## 山登り法(周囲を削る) 93000(360位)
1. 今回は同じスコアで受理していくと、スコアが上がることが多い 
2. ランダムに選んだマスを隣接マスの色に変える(0以外の色のときスコアは変わらない)
 - 285000(100位) （高速化済み）
3. 山登り法でもスコアが変わらない時も受理するとよくなることも覚えておくといい

## 焼きなまし法
1. 一時的にスコアが下がる操作をすることで,山登り法で硬直したスコアを伸ばすことができる

### 局所改善法を使うとき,高速に条件を満たすかどうかを高速に判定したい
1. 連結条件を満たすかどうかを高速に判定する
    - 減らした色のマスの連結が維持されているか
        1. 幅優先探索(色のマスの数O(n))
    - 減らした色の隣接関係
    - 増やした色の隣接関係
2. 上位の人:
    1. 3*3のマスをみて、周囲の色が連結しているかどうかだけで判定してる(消去可能性)
        - 消去可能性でググると、色の連結を高速に判定するアルゴリズムが出てくる
        - 1+3+5+7-1*2*3-3*4*5-5*6*7-7*8*1 == 1 のとき消去可能(４近傍)
        - 432
        - 501
        - 678
3. たまに0の色を別の色にする 305000(50位)
4. 行か列を丸ごと削除する
    - 斜めにも対応している（列と行を１ずつ削除すると、斜めになる）
5. 行or列削除ー＞焼きなまし 320000(20位)
6. 焼きなましの近傍として行列削除 332000(8位)
    - 行列を増やす近傍も追加
7. ２＊２の４マスがすべて別の色の時、1マスの近傍だけでは動けなくなる
    - ２(3)色同時に変える 336000(1位) (行列の近傍がいらなくなる)
12222   11222
34444   33444
8. 禁止隣接ペア制約を暖和（実装が楽）

関節点判定を5*5にしたら100点上がった（24ビットメモ化）
https://twitter.com/Shun___PI/status/1705978257437532498
https://yokozuna57.hatenablog.com/entry/2023/10/27/155346